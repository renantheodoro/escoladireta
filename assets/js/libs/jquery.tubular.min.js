!function(a,b){var c={ratio:16/9,videoId:"ZCAnLxRvNNc",mute:!0,repeat:!0,width:a(b).width(),wrapperZIndex:99,playButtonClass:"tubular-play",pauseButtonClass:"tubular-pause",muteButtonClass:"tubular-mute",volumeUpClass:"tubular-volume-up",volumeDownClass:"tubular-volume-down",increaseVolumeBy:10,start:0},d=function(d,e){var e=a.extend({},c,e);a("body");$node=a(d);var g='<div id="tubular-container" style="overflow: hidden; width: 100%;"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>';a("html,body").css({width:"100%",height:"100%"}),$node.prepend(g),$node.css({position:"relative","z-index":e.wrapperZIndex}),b.player,b.onYouTubeIframeAPIReady=function(){player=new YT.Player("tubular-player",{width:e.width,height:Math.ceil(e.width/e.ratio),videoId:e.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:"transparent"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},b.onPlayerReady=function(a){h(),e.mute&&a.target.mute(),a.target.seekTo(e.start),a.target.playVideo()},b.onPlayerStateChange=function(a){0===a.data&&e.repeat&&player.seekTo(e.start)};var h=function(){var d,g,c=a(b).width(),f=a(b).height(),h=a("#tubular-player");c/e.ratio<f?(d=Math.ceil(f*e.ratio),h.width(d).height(f).css({left:(c-d)/2,top:0})):(g=Math.ceil(c/e.ratio),h.width(c).height(g).css({left:0,top:(f-g)/2}))};a(b).on("resize.tubular",function(){h()}),a("body").on("click","."+e.playButtonClass,function(a){a.preventDefault(),player.playVideo()}).on("click","."+e.pauseButtonClass,function(a){a.preventDefault(),player.pauseVideo()}).on("click","."+e.muteButtonClass,function(a){a.preventDefault(),player.isMuted()?player.unMute():player.mute()}).on("click","."+e.volumeDownClass,function(a){a.preventDefault();var b=player.getVolume();b<e.increaseVolumeBy&&(b=e.increaseVolumeBy),player.setVolume(b-e.increaseVolumeBy)}).on("click","."+e.volumeUpClass,function(a){a.preventDefault(),player.isMuted()&&player.unMute();var b=player.getVolume();b>100-e.increaseVolumeBy&&(b=100-e.increaseVolumeBy),player.setVolume(b+e.increaseVolumeBy)})},e=document.createElement("script");e.src="//www.youtube.com/iframe_api";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f),a.fn.tubular=function(b){return this.each(function(){a.data(this,"tubular_instantiated")||a.data(this,"tubular_instantiated",d(this,b))})}}(jQuery,window);
